{"ast":null,"code":"var fs = require(\"fs\"),\n  extended = require(\"../extended\"),\n  escape = extended.escape,\n  stream = require(\"stream\"),\n  LINE_BREAK = extended.LINE_BREAK,\n  CsvTransformStream = require(\"./formatter_stream\");\nfunction createWriteStream(options) {\n  return new CsvTransformStream(options);\n}\nfunction write(arr, options, ws) {\n  var csvStream = createWriteStream(options),\n    i = -1,\n    l = arr.length;\n  extended.asyncEach(arr, function (item, cb) {\n    csvStream.write(item, null, cb);\n  }, function (err) {\n    if (err) {\n      csvStream.emit(\"error\", err);\n    } else {\n      csvStream.end();\n    }\n  });\n  return csvStream;\n}\nfunction writeToStream(ws, arr, options) {\n  return write(arr, options).pipe(ws);\n}\nfunction writeToString(arr, options, cb) {\n  if (extended.isFunction(options)) {\n    cb = options;\n    options = {};\n  }\n  var ws = new stream.Writable(),\n    written = [];\n  ws._write = function (data, enc, cb) {\n    written.push(data + \"\");\n    cb();\n  };\n  ws.on(\"error\", cb).on(\"finish\", function () {\n    cb(null, written.join(\"\"));\n  });\n  write(arr, options).pipe(ws);\n}\nfunction writeToBuffer(arr, options, cb) {\n  if (extended.isFunction(options)) {\n    cb = options;\n    options = {};\n  }\n  var ws = new stream.Writable(),\n    buffers = [],\n    l = 0;\n  ws._write = function (data, enc, cb) {\n    buffers.push(data);\n    l++;\n    cb();\n  };\n  ws.on(\"error\", cb).on(\"finish\", function () {\n    cb(null, Buffer.concat(buffers));\n  });\n  write(arr, options).pipe(ws);\n}\nfunction writeToPath(path, arr, options) {\n  var stream = fs.createWriteStream(path, {\n    encoding: \"utf8\"\n  });\n  return write(arr, options).pipe(stream);\n}\ncreateWriteStream.writeToBuffer = writeToBuffer;\ncreateWriteStream.write = write;\ncreateWriteStream.createWriteStream = createWriteStream;\ncreateWriteStream.writeToString = writeToString;\ncreateWriteStream.writeToPath = writeToPath;\ncreateWriteStream.writeToStream = writeToStream;\nmodule.exports = createWriteStream;","map":{"version":3,"names":["fs","require","extended","escape","stream","LINE_BREAK","CsvTransformStream","createWriteStream","options","write","arr","ws","csvStream","i","l","length","asyncEach","item","cb","err","emit","end","writeToStream","pipe","writeToString","isFunction","Writable","written","_write","data","enc","push","on","join","writeToBuffer","buffers","Buffer","concat","writeToPath","path","encoding","module","exports"],"sources":["D:/code/Techfriar/week5-task/verifications/node_modules/fast-csv/lib/formatter/index.js"],"sourcesContent":["var fs = require(\"fs\"),\n    extended = require(\"../extended\"),\n    escape = extended.escape,\n    stream = require(\"stream\"),\n    LINE_BREAK = extended.LINE_BREAK,\n    CsvTransformStream = require(\"./formatter_stream\");\n\n\nfunction createWriteStream(options) {\n    return new CsvTransformStream(options);\n}\n\nfunction write(arr, options, ws) {\n    var csvStream = createWriteStream(options), i = -1, l = arr.length;\n    extended.asyncEach(arr, function (item, cb) {\n        csvStream.write(item, null, cb);\n    }, function (err) {\n        if (err) {\n            csvStream.emit(\"error\", err);\n        } else {\n            csvStream.end();\n        }\n    });\n    return csvStream;\n}\n\nfunction writeToStream(ws, arr, options) {\n    return write(arr, options).pipe(ws);\n}\n\nfunction writeToString(arr, options, cb) {\n    if (extended.isFunction(options)) {\n        cb = options;\n        options = {};\n    }\n    var ws = new stream.Writable(), written = [];\n    ws._write = function (data, enc, cb) {\n        written.push(data + \"\");\n        cb();\n    };\n    ws\n        .on(\"error\", cb)\n        .on(\"finish\", function () {\n            cb(null, written.join(\"\"));\n        });\n    write(arr, options).pipe(ws);\n}\n\n\nfunction writeToBuffer(arr, options, cb) {\n    if (extended.isFunction(options)) {\n        cb = options;\n        options = {};\n    }\n    var ws = new stream.Writable(), buffers = [], l = 0;\n    ws._write = function (data, enc, cb) {\n        buffers.push(data);\n        l++;\n        cb();\n    };\n    ws\n        .on(\"error\", cb)\n        .on(\"finish\", function () {\n            cb(null, Buffer.concat(buffers));\n        });\n    write(arr, options).pipe(ws);\n}\n\nfunction writeToPath(path, arr, options) {\n    var stream = fs.createWriteStream(path, {encoding: \"utf8\"});\n    return write(arr, options).pipe(stream);\n}\n\ncreateWriteStream.writeToBuffer = writeToBuffer;\ncreateWriteStream.write = write;\ncreateWriteStream.createWriteStream = createWriteStream;\ncreateWriteStream.writeToString = writeToString;\ncreateWriteStream.writeToPath = writeToPath;\ncreateWriteStream.writeToStream = writeToStream;\nmodule.exports = createWriteStream;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}